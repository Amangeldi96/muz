<!DOCTYPE html>
<html lang="ky">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music App - Оңдолгон версия</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/history.css">
    <link rel="stylesheet" href="css/home.css"> 
    <script>
        (function() {
            const savedTheme = localStorage.getItem('selected-app-theme') || 'dark';
            document.documentElement.classList.add(savedTheme);
            document.addEventListener('DOMContentLoaded', () => {
                document.body.classList.add(savedTheme);
            });
        })();
    </script>
</head>
<body>

    <nav class="side-menu">
        <ul class="menu-items">
            <li onclick="location.href='index.html'">Башкы бет</li>
            <li onclick="location.href='video.html'">Видео клиптер</li>
            <li onclick="location.href='hits.html'">Жаңы хиттер</li>
            <li onclick="location.href='artists.html'">Артисттер</li>
            <li onclick="location.href='contact.html'">Байланыш</li>
        </ul>
    </nav>

    <div id="main-container">
        <header>
            <div class="menu-btn" onclick="toggleMenu()">
                <span></span><span></span><span></span>
            </div>

            <div class="logo-text">MUSIC KG</div>

            <div class="theme-toggle" onclick="toggleSettingsModal(true)">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" height="30" width="30" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round">
                    <path d="M12 4V20M8 8V16M16 8V16M4 11V13M20 11V13" />
                </svg>
            </div>
        </header>

        <div class="close-layer" onclick="toggleMenu()"></div>
        
        <div class="stories-container" id="shortsList">
            <div style="color:gray; padding:20px;">Жүктөлүүдө...</div>
        </div>

        <div class="section-title">Топ 5 Новые Песни</div>
        <div class="block-con">
            <div class="content" id="albumList"></div>
        </div>

        <div class="section-title">Хит ырлар</div>
        <div class="song-list" id="hitList"></div>

        <div class="section-title">Артисттер жөнүндө маалымат</div>
        <div class="block-con">
            <div class="content" id="artistDetailContainer"></div>
        </div>
    
        <div class="section-title">Жакында чыгуучу ырлар</div>
        <div id="upcomingList" class="upcoming-list"></div>
        
    </div> 

    <div class="settings-modal" id="sModal">
        <div class="modal-header">
            <b style="font-size:16px;">Настройка</b>
            <div class="close-x" onclick="toggleSettingsModal(false)">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M18 6L6 18M6 6l12 12"/></svg>
            </div>
        </div>
        <p style="font-size:13px; color:gray; margin-bottom: 10px;">Интерфейс темасы:</p>
        <div class="theme-scroll">
            <div class="t-circle" style="background:#111111" onclick="changeTheme('dark')"></div>
            <div class="t-circle" style="background:#ffffff" onclick="changeTheme('light')"></div>
            <div class="t-circle" style="background:#ffd700" onclick="changeTheme('gold')"></div>
            <div class="t-circle" style="background:#00c46a" onclick="changeTheme('green')"></div>
            <div class="t-circle" style="background:#ff6b6b" onclick="changeTheme('red')"></div>
        </div>
        <div class="switch-row">
            <span style="font-size:14px; font-weight:600;">Плейбар</span>
            <div class="switch" id="barSwitch" onclick="toggleBarUI()"></div>
        </div>
    </div>

    <div id="playerBar" class="player-bar">
        <div class="p-wrapper" id="pCont">
            <div class="p-fill" id="pFill"></div>
            <div class="p-handle" id="pHandle"></div>
        </div>
        <div class="p-content">
            <div style="flex:1; overflow:hidden; padding-right: 15px;">
                <b id="pTitle" style="display:block; white-space:nowrap; text-overflow:ellipsis; overflow:hidden; font-size:16px;">Ыр тандаңыз</b>
                <span id="pArtist" style="font-size:13px; color:gray;">...</span>
            </div>
            <button id="mainPlayBtn">
                
            </button>
        </div>
    </div>

    <div id="storyFullscreen" style="display: none;">
        <div class="status-bar-container" id="progressBarContainer">
            <div class="status-bar-bg">
                <div id="statusBar" class="status-bar-fill"></div>
            </div>
        </div>
        <div class="close-btn" onclick="closeStory()">&times;</div>
        <div id="storyYoutubePlayer"></div>
        <div id="storyOverlay" onclick="toggleStoryPlay()"></div>
        <div id="ytPlayer" style="display:none;"></div>
    </div>

    <script src="js/header.js"></script>
    <script type="module" src="js/Artistcard.js"></script>
    <script type="module" src="js/script.js"></script>

</body>
</html>
